<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complete App - Visual Regression Test Page</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #1a1a2e;
            color: #eaeaea;
            padding: 40px;
            min-height: 100vh;
        }

        h1 {
            color: #00d4ff;
            margin-bottom: 30px;
            font-size: 24px;
        }

        .test-section {
            background: #16213e;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 24px;
            border: 1px solid #0f3460;
        }

        .test-section h2 {
            color: #e94560;
            margin-bottom: 16px;
            font-size: 18px;
        }

        .test-section p {
            color: #a0a0a0;
            margin-bottom: 12px;
            font-size: 14px;
        }

        /* Textarea Test */
        .textarea-test textarea {
            width: 100%;
            height: 120px;
            padding: 12px;
            border: 2px solid #0f3460;
            border-radius: 8px;
            background: #0d1b2a;
            color: #eaeaea;
            font-family: 'SF Mono', Monaco, 'Courier New', monospace;
            font-size: 14px;
            resize: vertical;
        }

        .textarea-test textarea:focus {
            outline: none;
            border-color: #00d4ff;
            box-shadow: 0 0 0 3px rgba(0, 212, 255, 0.2);
        }

        /* Input Test */
        .input-test input[type="text"] {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #0f3460;
            border-radius: 8px;
            background: #0d1b2a;
            color: #eaeaea;
            font-size: 16px;
        }

        .input-test input[type="text"]:focus {
            outline: none;
            border-color: #e94560;
            box-shadow: 0 0 0 3px rgba(233, 69, 96, 0.2);
        }

        /* Instructions */
        .instructions {
            background: #0f3460;
            border-radius: 8px;
            padding: 16px;
            margin-top: 24px;
        }

        .instructions h3 {
            color: #00d4ff;
            margin-bottom: 12px;
        }

        .instructions ol {
            padding-left: 20px;
        }

        .instructions li {
            margin-bottom: 8px;
            color: #b0b0b0;
        }

        .instructions code {
            background: #1a1a2e;
            padding: 2px 6px;
            border-radius: 4px;
            color: #00d4ff;
            font-family: 'SF Mono', Monaco, monospace;
        }

        /* Test IDs for automation */
        [data-testid] {
            position: relative;
        }

        [data-testid]::after {
            content: attr(data-testid);
            position: absolute;
            top: -20px;
            right: 0;
            font-size: 10px;
            color: #666;
            font-family: monospace;
        }
    </style>
</head>
<body>
    <h1>üß™ Complete App - Visual Regression Test Page</h1>

    <div class="test-section textarea-test">
        <h2>üìù Textarea Test</h2>
        <p>Test autocomplete in a multi-line textarea element</p>
        <textarea
            id="test-textarea"
            data-testid="textarea"
            placeholder="Type 'Hell' and press Shift+Cmd+I to trigger Complete..."
            autofocus
        ></textarea>
    </div>

    <div class="test-section input-test">
        <h2>‚å®Ô∏è Input Text Test</h2>
        <p>Test autocomplete in a single-line input element</p>
        <input
            type="text"
            id="test-input"
            data-testid="input-text"
            placeholder="Type 'Hell' and press Shift+Cmd+I to trigger Complete..."
        />
    </div>

    <div class="test-section">
        <h2>üîç Address Bar Test</h2>
        <p>The address bar test is performed in the browser's URL input field.</p>
        <p>Navigate to this page, then type in the address bar.</p>
    </div>

    <div class="instructions">
        <h3>üìã Test Instructions</h3>
        <ol>
            <li>Ensure <strong>Complete app</strong> is running in the background</li>
            <li>Click on the textarea or input field above</li>
            <li>Type <code>Hell</code> (partial word for completion)</li>
            <li>Press <code>Shift+Cmd+I</code> to trigger Complete autocomplete</li>
            <li>Verify the popup appears near the cursor</li>
            <li>Select a completion and verify it's inserted</li>
        </ol>
    </div>

    <script>
        // Auto-focus the textarea on load
        document.addEventListener('DOMContentLoaded', () => {
            const textarea = document.getElementById('test-textarea');
            if (textarea) {
                textarea.focus();
            }
        });

        // Log keyboard events for debugging
        document.addEventListener('keydown', (e) => {
            if (e.shiftKey && e.metaKey && e.key === 'i') {
                console.log('[Complete Test] Hotkey triggered: Shift+Cmd+I');
            }
        });
    </script>
</body>
</html>
